@prefix xnat: <http://aifb-ls3-vm2.aifb.kit.edu:8080/xnatwrapper/id/project/Liver_Factors#> .
@prefix xnatpatient: <http://aifb-ls3-vm2.aifb.kit.edu:8080/xnatwrapper/id/project/Liver_Factors/Patient#> .
    
@prefix surgi: <http://surgipedia.sfb125.de/wiki/Special:URIResolver/> .
@prefix surgiProp: <http://surgipedia.sfb125.de/wiki/Special:URIResolver/Property-3A> .
@prefix surgiCat: <http://surgipedia.sfb125.de/wiki/Special:URIResolver/Category-3A> .
    
@prefix math: <http://www.w3.org/2000/10/swap/math#>.
@prefix time: <http://www.w3.org/2000/10/swap/time#>.
@prefix log: <http://www.w3.org/2000/10/swap/log#>.
@prefix string: <http://www.w3.org/2000/10/swap/string#>.
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

{
?o1 a surgiCat:Observation ; 
    surgiProp:hasPatient ?p ;
    surgiProp:hasFactor surgi:abnormalLabParameters; 
    surgiProp:hasObsValue "yes" 
} => {
	_:PostOPLFObs a surgiCat:Observation .
	_:PostOPLFObs surgiProp:hasPatient ?p .
	_:PostOPLFObs surgiProp:hasFactor surgi:PostOPLiverFailure .
	_:PostOPLFObs surgiProp:hasObsValue "Grade A" .
} .

{
?o1 a surgiCat:Observation ; 
    surgiProp:hasPatient ?p ;
    surgiProp:hasFactor surgi:changesInClinicalManagement; 
    surgiProp:hasObsValue "yes" 
} => {
	_:PostOPLFObs a surgiCat:Observation .
	_:PostOPLFObs surgiProp:hasPatient ?p .
	_:PostOPLFObs surgiProp:hasFactor surgi:PostOPLiverFailure .
	_:PostOPLFObs surgiProp:hasObsValue "Grade B" .
} .

{
?o1 a surgiCat:Observation ; 
    surgiProp:hasPatient ?p ;
    surgiProp:hasFactor surgi:invasiveTreatment; 
    surgiProp:hasObsValue "yes" 
} => {
	_:PostOPLFObs a surgiCat:Observation .
	_:PostOPLFObs surgiProp:hasPatient ?p .
	_:PostOPLFObs surgiProp:hasFactor surgi:PostOPLiverFailure .
	_:PostOPLFObs surgiProp:hasObsValue "Grade C" .
} .


{
 ?o1 surgiProp:hasFactor surgi:PostOPLiverFailure .
 ?o1 surgiProp:hasObsValue "Grade A" .
 ?o2 surgiProp:hasFactor surgi:PostOPLiverFailure .
 ?o2 surgiProp:hasObsValue "Grade B" 
} => {
	?o1 a log:Chaff .
} .

{
 ?o1 surgiProp:hasFactor surgi:PostOPLiverFailure .
 ?o1 surgiProp:hasObsValue "Grade A" .
 ?o2 surgiProp:hasFactor surgi:PostOPLiverFailure .
 ?o2 surgiProp:hasObsValue "Grade C" 
} => {
	?o1 a log:Chaff .
} .

{
 ?o1 surgiProp:hasFactor surgi:PostOPLiverFailure .
 ?o1 surgiProp:hasObsValue "Grade B" .
 ?o2 surgiProp:hasFactor surgi:PostOPLiverFailure .
 ?o2 surgiProp:hasObsValue "Grade C" 
} => {
	?o1 a log:Chaff .
} .